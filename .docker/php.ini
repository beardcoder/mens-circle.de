max_execution_time=240
max_input_vars=1500

error_log = /dev/stderr

; ============================================
; PHP 8.4 PERFORMANCE OPTIMIZATIONS
; ============================================

; OPcache Configuration
opcache.enable=1
opcache.enable_cli=0
opcache.memory_consumption=256
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=20000

; PHP 8.4 JIT with new IR Framework
opcache.jit_buffer_size=128M
opcache.jit=tracing
opcache.jit_debug=0

; JIT Optimization Thresholds (PHP 8.4 IR-based)
opcache.jit_hot_loop=64
opcache.jit_hot_func=127
opcache.jit_hot_return=16
opcache.jit_hot_side_exit=64

; Validation (disable in production for max performance)
opcache.revalidate_freq=0
opcache.validate_timestamps=1

; File Cache (optional, for persistent cache)
; opcache.file_cache=/tmp/opcache