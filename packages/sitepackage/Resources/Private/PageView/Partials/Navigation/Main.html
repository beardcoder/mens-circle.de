<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true"
>
<nav class="Navigation Container" aria-label="Main navigation">
    <a class="Navigation__logo" href="/" aria-label="Go to homepage">
        <span class="Navigation__logoText">Mens Circle</span>
    </a>

    <button
        class="Navigation__toggle"
        type="button"
        aria-expanded="false"
        aria-controls="main-nav"
        aria-label="Toggle navigation"
        data-nav-toggle
    >
        <span class="Navigation__toggleBar"></span>
        <span class="Navigation__toggleBar"></span>
        <span class="Navigation__toggleBar"></span>
    </button>

    <ul class="Navigation__list" id="main-nav" role="list" data-nav-list>
        <f:for each="{mainMenu}" as="item">
            <li class="Navigation__item{f:if(condition: item.children, then: ' has-submenu')}">
                <f:link.page
                    pageUid="{item.data.uid}"
                    class="Navigation__link{f:if(condition: item.active, then: ' is-active')}"
                    additionalAttributes="{f:if(condition: item.active, then: '{aria-current: \'page\'}')}"
                >
                    {item.title}
                </f:link.page>

                <f:if condition="{item.children}">
                    <ul class="Navigation__sublist" role="list">
                        <f:for each="{item.children}" as="child">
                            <li class="Navigation__subitem">
                                <f:link.page
                                    pageUid="{child.data.uid}"
                                    class="Navigation__sublink{f:if(condition: child.active, then: ' is-active')}"
                                >
                                    {child.title}
                                </f:link.page>
                            </li>
                        </f:for>
                    </ul>
                </f:if>
            </li>
        </f:for>
    </ul>
</nav>
