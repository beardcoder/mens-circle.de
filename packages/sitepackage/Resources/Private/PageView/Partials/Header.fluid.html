<fluid
    data-namespace-typo3-fluid="true"
    xmlns:app="http://typo3.org/ns/MensCircle/Sitepackage/ViewHelpers"
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
>

<f:variable name="nextEvent" value="{app:nextEvent()}"/>

<nav aria-label="Hauptnavigation" class="nav" id="nav">
    <div class="nav__container">
        <a aria-label="Männerkreis Startseite" class="nav__logo" href="/">
            <span class="nav__logo-text">MÄNNERKREIS</span>
        </a>

        <ul class="nav__menu" id="navMenu">
            <f:for as="mainnavigationItem" each="{mainnavigation}">
                <li>
                    <f:if condition="{mainnavigationItem.data.content_link}">
                        <f:then>
                            <f:link.typolink class="nav__link" parameter="{mainnavigationItem.data.content_link}">
                                {mainnavigationItem.title}
                            </f:link.typolink>
                        </f:then>
                        <f:else>
                            <a
                                class="nav__link"
                                data-nav-link
                                href="{mainnavigationItem.link}"
                                target="{mainnavigationItem.target}"
                                title="{mainnavigationItem.title}"
                            >
                                {mainnavigationItem.title}
                            </a>
                        </f:else>
                    </f:if>
                </li>
            </f:for>
            <f:if condition="{nextEvent}">
                <li>
                    <f:link.action
                        action="detail"
                        arguments="{event: nextEvent.uid}"
                        class="nav__link nav__link--cta"
                        controller="Event"
                        extensionName="Sitepackage"
                        pageUid="3"
                        pluginName="EventDetail"
                    >
                        Nächstes Treffen →
                    </f:link.action>
                </li>
            </f:if>
        </ul>
    </div>
</nav>

</fluid>
