/* ============================================
   VIEW TRANSITIONS
   ============================================

   Modern View Transition API support for smooth page navigation.
   Falls back gracefully for browsers that don't support it.
   ============================================ */

/* Enable view transitions for supported browsers */
@supports (view-transition-name: auto) {
  :root {
    view-transition-name: none;
  }

  /* Smooth transitions for page navigation */
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation-duration: 0.3s;
    animation-timing-function: ease-in-out;
  }

  /* Crossfade between old and new pages */
  ::view-transition-old(root) {
    animation-name: fade-out;
  }

  ::view-transition-new(root) {
    animation-name: fade-in;
  }

  /* Custom animations for view transitions */
  @keyframes fade-out {
    from {
      opacity: 1;
    }

    to {
      opacity: 0;
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  /* Faster transitions for users who prefer reduced motion */
  @media (prefers-reduced-motion: reduce) {
    ::view-transition-old(root),
    ::view-transition-new(root) {
      animation-duration: 0.1s;
    }
  }

  /* Specific transitions for different elements */
  header {
    view-transition-name: header;
  }

  footer {
    view-transition-name: footer;
  }

  main {
    view-transition-name: main-content;
  }

  /* Smooth header transitions */
  ::view-transition-old(header),
  ::view-transition-new(header) {
    animation-duration: 0.2s;
  }

  /* Smooth footer transitions */
  ::view-transition-old(footer),
  ::view-transition-new(footer) {
    animation-duration: 0.2s;
  }

  /* Main content slides and fades */
  ::view-transition-old(main-content) {
    animation-name: slide-out-fade;
  }

  ::view-transition-new(main-content) {
    animation-name: slide-in-fade;
  }

  @keyframes slide-out-fade {
    from {
      opacity: 1;
      transform: translateY(0);
    }

    to {
      opacity: 0;
      transform: translateY(-20px);
    }
  }

  @keyframes slide-in-fade {
    from {
      opacity: 0;
      transform: translateY(20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}
